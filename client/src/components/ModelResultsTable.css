/* ModelResultsTable.css */

/* --- Контейнер для всего блока таблицы (включая контролы) --- */
.model-results-table-container {
    width: 100%;
    height: 100%; /* Занимает всю высоту родителя (.table-content-wrapper) */
    display: flex;
    flex-direction: column; /* Контролы сверху/снизу, таблица посередине */
    overflow: hidden; /* Предотвращаем выход контента */
    /* Убраны border, background, overflow - они теперь у .table-wrapper */
}

/* --- Контролы над/под таблицей --- */
.table-controls-top,
.table-controls-bottom {
    flex-shrink: 0; /* Не сжимаются */
    padding: 8px 10px;
    background-color: #f8f9fa; /* Фон для контролов */
    border-bottom: 1px solid #dee2e6; /* Линия под верхними контролами */
}
.table-controls-bottom {
    border-top: 1px solid #dee2e6; /* Линия над нижними контролами */
    border-bottom: none;
}
/* Стили для элементов внутри контролов (пример) */
.table-control-item { margin-right: 15px; font-size: 0.9em; }
.global-filter-input { padding: 3px 6px; border: 1px solid #ccc; border-radius: 3px; }
.column-filter-input { width: 100%; box-sizing: border-box; padding: 2px 4px; font-size: 0.9em; border: 1px solid #ccc; border-radius: 3px; }
.pagination { display: flex; align-items: center; gap: 5px; flex-wrap: wrap; }
.pagination button, .pagination select, .pagination input { font-size: 0.9em; padding: 3px 6px; border-radius: 3px; border: 1px solid #ccc; }
.pagination button:disabled { opacity: 0.5; cursor: not-allowed; }
.pagination .page-info { margin: 0 5px; }
.pagination .goto-page input { width: 50px; text-align: center; }
.pagination .page-size-select { margin-left: 10px; }


/* --- Обертка для самой таблицы с прокруткой --- */
.table-wrapper {
    flex-grow: 1; /* Занимает все оставшееся место */
    overflow: auto; /* !!! Добавляет и вертикальный, и горизонтальный скролл */
    border: 1px solid #dee2e6; /* Рамка вокруг области скролла */
    border-radius: 4px;
    background-color: #fff;
    min-height: 0; /* Позволяет сжиматься */
}

/* --- Сама таблица --- */
.model-results-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85em;
    color: #212529;
    table-layout: auto;
    /* border-spacing: 0; */ /* Убедимся, что нет отступов */
}

/* --- Заголовок таблицы (thead) --- */
.model-results-table thead {
    /* background-color не нужен здесь, т.к. он будет на th */
    /* border-bottom убран, т.к. sticky может его перекрыть */
}

/* --- Ячейки заголовка (th) --- */
.model-results-table th {
    position: sticky; /* !!! Делаем заголовок залипающим */
    top: 0; /* Прилипает к верху контейнера .table-wrapper */
    background-color: #f8f9fa; /* !!! Обязательный фон, чтобы контент не просвечивал */
    z-index: 1; /* !!! Чтобы заголовок был поверх tbody */

    padding: 8px 10px;
    text-align: left;
    font-weight: 600;
    white-space: nowrap;
    vertical-align: middle;
    cursor: pointer;
    transition: background-color 0.2s ease;
    border-bottom: 2px solid #dee2e6; /* Граница под заголовком */
    /* border-right: 1px solid #dee2e6; */ /* Опционально: вертикальные линии */
}
/* .model-results-table th:last-child { border-right: none; } */
.model-results-table th:hover {
    background-color: #e9ecef;
}

/* --- Иконки сортировки --- */
.model-results-table th .sort-icon {
    display: inline-block;
    margin-left: 5px;
    opacity: 0.4;
    font-size: 0.9em;
}
.model-results-table th.sorted-asc .sort-icon::after, /* Классы могут быть другими в TanStack v8 */
.model-results-table th[aria-sort='ascending'] .sort-icon::after { /* Пример для aria-sort */
    content: ' ▲';
    opacity: 1;
}
.model-results-table th.sorted-desc .sort-icon::after, /* Классы могут быть другими в TanStack v8 */
.model-results-table th[aria-sort='descending'] .sort-icon::after { /* Пример для aria-sort */
    content: ' ▼';
    opacity: 1;
}
.model-results-table th:hover .sort-icon {
    opacity: 0.7;
}


/* --- Тело таблицы (tbody) --- */
.model-results-table tbody tr {
    border-bottom: 1px solid #e9ecef;
    transition: background-color 0.15s ease;
}
.model-results-table tbody tr:last-child {
    border-bottom: none;
}
.model-results-table tbody tr:hover {
    background-color: #f1f3f5;
}
.model-results-table tbody tr.selected-row {
    background-color: #cfe2ff !important; /* !important для перекрытия hover */
    font-weight: 500;
}


/* --- Обычные ячейки данных (td) --- */
.model-results-table td {
    padding: 6px 10px;
    vertical-align: middle;
    /* border-right: 1px solid #e9ecef; */ /* Опционально: вертикальные линии */
}
/* .model-results-table td:last-child { border-right: none; } */

/* --- Выравнивание числовых ячеек --- */
.model-results-table td.numeric {
    text-align: right;
    font-family: monospace;
}

/* --- Стиль для ID модели --- */
.model-results-table td.model-id,
.model-results-table td.col-model-id { /* Добавлен класс из JS */
    font-family: monospace;
    font-size: 0.9em;
    color: #6c757d;
}

/* --- Стиль для булевых значений --- */
.model-results-table td.boolean-true,
.model-results-table td.col-valid, /* Добавлен класс из JS */
.model-results-table td.col-test { /* Добавлен класс из JS */
    text-align: center;
}
/* Используем селектор атрибута для иконки, если cell рендерит строку */
.model-results-table td[data-value="true"] { color: #198754; }
.model-results-table td[data-value="false"] { color: #dc3545; }
/* Или если рендерятся прямо иконки */
.model-results-table td span.boolean-true { color: #198754; }
.model-results-table td span.boolean-false { color: #dc3545; }


/* --- Стиль для ячеек с ошибками --- */
.model-results-table td.error-cell {
    color: #dc3545;
    font-style: italic;
    font-size: 0.9em;
}

/* --- Сообщение, если таблица пуста --- */
.no-results-message,
.table-placeholder { /* Добавлен класс из JS */
    padding: 20px;
    text-align: center;
    color: #6c757d;
    font-style: italic;
}

/* Дополнительные стили для классов колонок из JS */
.model-results-table .col-nobs { text-align: center; }
.model-results-table .numeric { text-align: right; font-family: monospace; }